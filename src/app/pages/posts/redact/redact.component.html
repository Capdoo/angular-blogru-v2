<!-- <p>my-pets works!</p> -->
<div class="mt-4 my-pets-container flex justify-content-center" style="border: none;">
  <div class="contenido align-items-center mt-4 " style="border: none; width: 95%; height: auto;">

    <div *ngIf="flagCreate" class="flex justify-content-start align-items-end" style="border: none; ; height: auto;">
      <h1>Nuevo Post</h1>
    </div>
    <div *ngIf="!flagCreate" class="flex justify-content-start align-items-end" style="border: none; ; height: auto;">
      <h1>Editar Post</h1>
    </div>
  </div>
</div>


<div class="mt-4 my-pets-container flex justify-content-center" style="border: none;">
  <div class="align-items-center" style="border: none; width: 95%; height: auto;">

    <form [formGroup]="redactPostFormGroup">

      <div>
        <mat-card appearance="outlined">
          <mat-card-header>
            <mat-card-title>Titulo</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-form-field floatLabel="always" style="width: 100%;">
              <!-- <mat-label>Nombre</mat-label> -->
              <input matInput formControlName="redactPostTitle" type="text" [maxLength]="30"
                placeholder="Ejemplo de titulo">
            </mat-form-field>
          </mat-card-content>
        </mat-card>
      </div>

      <div>
        <mat-card class="mt-4" appearance="outlined">
          <mat-card-header>
            <mat-card-title>Resumen</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <mat-form-field style="width: 100%;">
              <textarea matInput formControlName="redactPostResume" name="" id=""
                placeholder="Ejemplo de resumen" cdkTextareaAutosize cdkAutosizeMinRows="3" cdkAutosizeMaxRows="300"></textarea>
            </mat-form-field>
          </mat-card-content>
        </mat-card>
      </div>

      <div>
        <mat-card class="mt-4" appearance="outlined">
          <mat-card-header>
            <mat-card-title>Tema y Categoria</mat-card-title>
          </mat-card-header>

          <mat-card-content class="grid" style="border: none;">
            <mat-form-field floatLabel="always" class="col-12 col-md-6">
              <mat-label>Tema</mat-label>

              <mat-select formControlName="redactPostTopic" [errorStateMatcher]="matcher"
                (selectionChange)="selectTopic()">


                <mat-option *ngFor="let item of listTopics" [value]="item.id">
                  <img [src]="item.description" alt="img-i" class="option-image" />
                  {{item.name}}
                </mat-option>

              </mat-select>

            </mat-form-field>

            <mat-form-field floatLabel="always" class="col-12 col-md-6">
              <mat-label>Categoria</mat-label>


              <mat-select formControlName="redactPostCategory" [errorStateMatcher]="matcher">
                <mat-option *ngFor="let item of listSubtopics" [value]="item.id">
                  <img [src]="item.description" alt="img-i" class="option-image" />
                  {{item.name}}
                </mat-option>


              </mat-select>


            </mat-form-field>
          </mat-card-content>
        </mat-card>
      </div>


      <div>
        <mat-card class="mt-4" appearance="outlined">
          <mat-card-header>
            <mat-card-title>Contenido</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <div class="flex justify-content-end my-3" style="width: 100%; border: none;">

              <a class="flex align-items-center btnAddSectionV2" (click)="addSection()">
                <mat-icon class="mr-2">add_circle</mat-icon>
                Agregar seccion
              </a>
            </div>

            <div *ngFor="let section of listSections; let i = index">
              <app-section [section]="section" [index]="i" (listenerCambios)="eliminarSeccion($event)">></app-section>
            </div>


          </mat-card-content>
        </mat-card>
      </div>


      <div class="my-4 flex justify-content-between">
        <div>
          <button class="pr-2 flex align-items-center btnAddSection" (click)="previewPost()">
            <mat-icon class="mr-2">visibility</mat-icon>
            Previsualizar
          </button>
        </div>

        <div>
          <button class="pr-2 flex align-items-center btnAddSection" (click)="runPost()" [disabled]="flagActivateSave">
            <mat-icon class="mr-2">save</mat-icon>
            Guardar
          </button>
        </div>
      </div>
    </form>

    <div class="mt-7">
      <!-- <pre>
        {{post | json}}
      </pre> -->
    </div>

  </div>
</div>